///////////////////////////////////////////////////////////////////////////////
//                                                                            /
// IAR C/C++ Compiler V8.10.3.10338/W32 for 8051        25/Jan/2016  16:38:43 /
// Copyright 2004-2011 IAR Systems AB.                                        /
//                                                                            /
//    Core               =  plain                                             /
//    Code model         =  banked                                            /
//    Data model         =  large                                             /
//    Calling convention =  xdata reentrant                                   /
//    Constant location  =  data_rom                                          /
//    Dptr setup         =  1,16                                              /
//    Source file        =  E:\Work Codes\ZigBee\Network\Projects\zstack\Samp /
//                          les\TestApp\Source\ExtHAL\DHT11.c                 /
//    Command line       =  -f "E:\Work Codes\ZigBee\Network\Projects\zstack\ /
//                          Samples\TestApp\CC2530DB\..\..\..\Tools\CC2530DB\ /
//                          f8wEndev.cfg" (-DCPU32MHZ -DROOT=__near_func      /
//                          -DBLINK_LEDS) -f "E:\Work                         /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cf /
//                          g" (-DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR  /
//                          -DDEFAULT_CHANLIST=0x00000800                     /
//                          -DZDAPP_CONFIG_PAN_ID=0xFFFB                      /
//                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_M /
//                          ASK=0x007F -DBEACON_REQUEST_DELAY=100             /
//                          -DBEACON_REQ_DELAY_MASK=0x00FF                    /
//                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_P /
//                          OLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7           /
//                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3   /
//                          -DNWK_MAX_DATA_RETRIES=2                          /
//                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9        /
//                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40          /
//                          -DNWK_MAX_BINDING_ENTRIES=4                       /
//                          -DMAX_BINDING_CLUSTER_IDS=4                       /
//                          "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07, 0x09,     /
//                          0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08,   /
//                          0x0A, 0x0C, 0x0D}" -DMAC_MAX_FRAME_SIZE=116       /
//                          "-DCONST=const __code" -DGENERIC=__generic        /
//                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000       /
//                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)  /
//                          -DREJOIN_POLL_RATE=440 "E:\Work                   /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\Source\ExtHAL\DHT11.c" -D NWK_AUTO_POLL -D    /
//                          ZTOOL_P1 -D xMT_TASK -D xMT_SYS_FUNC -D           /
//                          xMT_ZDO_FUNC -D LCD_SUPPORTED=DEBUG -D            /
//                          xPOWER_SAVING -D DHT11 -D DS18B20 -lC "E:\Work    /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\EndDeviceEB\List\" -lA "E:\Work      /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\EndDeviceEB\List\" --diag_suppress   /
//                          Pe001,Pa010 -o "E:\Work                           /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\EndDeviceEB\Obj\" -e --debug         /
//                          --core=plain --dptr=16,1 --data_model=large       /
//                          --code_model=banked --calling_convention=xdata_re /
//                          entrant --place_constants=data_rom                /
//                          --nr_virtual_regs 16 -I "E:\Work                  /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\" -I "E:\Work                        /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\SOURCE\" -I "E:\Work              /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\SOURCE\ExtHAL\" -I "E:\Work       /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\ZMAIN\TI2530DB\" -I         /
//                          "E:\Work Codes\ZigBee\Network\Projects\zstack\Sam /
//                          ples\TestApp\CC2530DB\..\..\..\..\..\COMPONENTS\M /
//                          T\" -I "E:\Work Codes\ZigBee\Network\Projects\zst /
//                          ack\Samples\TestApp\CC2530DB\..\..\..\..\..\COMPO /
//                          NENTS\HAL\INCLUDE\" -I "E:\Work                   /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\TARGET /
//                          \CC2530EB\" -I "E:\Work                           /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\MCU\C /
//                          CSOC\" -I "E:\Work Codes\ZigBee\Network\Projects\ /
//                          zstack\Samples\TestApp\CC2530DB\..\..\..\..\..\CO /
//                          MPONENTS\OSAL\INCLUDE\" -I "E:\Work               /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\AF\" /
//                           -I "E:\Work Codes\ZigBee\Network\Projects\zstack /
//                          \Samples\TestApp\CC2530DB\..\..\..\..\..\COMPONEN /
//                          TS\STACK\NWK\" -I "E:\Work                        /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SEC\ /
//                          " -I "E:\Work Codes\ZigBee\Network\Projects\zstac /
//                          k\Samples\TestApp\CC2530DB\..\..\..\..\..\COMPONE /
//                          NTS\STACK\SAPI\" -I "E:\Work                      /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SYS\ /
//                          " -I "E:\Work Codes\ZigBee\Network\Projects\zstac /
//                          k\Samples\TestApp\CC2530DB\..\..\..\..\..\COMPONE /
//                          NTS\STACK\ZDO\" -I "E:\Work                       /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\..\..\COMPONENTS\ZMAC\F8W\" /
//                           -I "E:\Work Codes\ZigBee\Network\Projects\zstack /
//                          \Samples\TestApp\CC2530DB\..\..\..\..\..\COMPONEN /
//                          TS\ZMAC\" -I "E:\Work Codes\ZigBee\Network\Projec /
//                          ts\zstack\Samples\TestApp\CC2530DB\..\..\..\..\.. /
//                          \COMPONENTS\SERVICES\SADDR\" -I "E:\Work          /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\..\..\COMPONENTS\SERVICES\S /
//                          DATA\" -I "E:\Work Codes\ZigBee\Network\Projects\ /
//                          zstack\Samples\TestApp\CC2530DB\..\..\..\..\..\CO /
//                          MPONENTS\MAC\INCLUDE\" -I "E:\Work                /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\HIGH_L /
//                          EVEL\" -I "E:\Work Codes\ZigBee\Network\Projects\ /
//                          zstack\Samples\TestApp\CC2530DB\..\..\..\..\..\CO /
//                          MPONENTS\MAC\LOW_LEVEL\srf04\" -I "E:\Work        /
//                          Codes\ZigBee\Network\Projects\zstack\Samples\Test /
//                          App\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_LE /
//                          VEL\srf04\SINGLE_CHIP\" -Ohz --require_prototypes /
//    List file          =  E:\Work Codes\ZigBee\Network\Projects\zstack\Samp /
//                          les\TestApp\CC2530DB\EndDeviceEB\List\DHT11.s51   /
//                                                                            /
//                                                                            /
///////////////////////////////////////////////////////////////////////////////

        NAME DHT11

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?BRET
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?V0
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8

        PUBLIC ??DHT11Check?relay
        FUNCTION ??DHT11Check?relay,0203H
        PUBLIC ??DHT11IOInit?relay
        FUNCTION ??DHT11IOInit?relay,0203H
        PUBLIC ??DHT11ReadBit?relay
        FUNCTION ??DHT11ReadBit?relay,0203H
        PUBLIC ??DHT11ReadByte?relay
        FUNCTION ??DHT11ReadByte?relay,0203H
        PUBLIC ??DHT11ReadData?relay
        FUNCTION ??DHT11ReadData?relay,0203H
        PUBLIC ??DHT11Reset?relay
        FUNCTION ??DHT11Reset?relay,0203H
        PUBLIC ??dht_delay_ms?relay
        FUNCTION ??dht_delay_ms?relay,0203H
        PUBLIC ??dht_delay_us?relay
        FUNCTION ??dht_delay_us?relay,0203H
        PUBLIC DHT11Check
        FUNCTION DHT11Check,021203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 9, STACK
        PUBLIC DHT11IOInit
        FUNCTION DHT11IOInit,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC DHT11ReadBit
        FUNCTION DHT11ReadBit,021203H
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 9, STACK
        PUBLIC DHT11ReadByte
        FUNCTION DHT11ReadByte,021203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 10, STACK
        PUBLIC DHT11ReadData
        FUNCTION DHT11ReadData,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 18, STACK
        PUBLIC DHT11Reset
        FUNCTION DHT11Reset,021203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        PUBWEAK P0DIR
        PUBWEAK P0INP
        PUBWEAK P0SEL
        PUBWEAK P2INP
        PUBWEAK _A_P0
        PUBLIC dht_delay_ms
        FUNCTION dht_delay_ms,021203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 9, STACK
        PUBLIC dht_delay_us
        FUNCTION dht_delay_us,080203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        
        CFI Names cfiNames0
        CFI StackFrame CFA_SP SP IDATA
        CFI StackFrame CFA_PSP16 PSP16 XDATA
        CFI StackFrame CFA_XSP16 XSP16 XDATA
        CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
        CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
        CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
        CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
        CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
        CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
        CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
        CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
        CFI Resource V8:8, V9:8, V10:8, V11:8, V12:8, V13:8, V14:8, V15:8, SP:8
        CFI Resource PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
        CFI VirtualResource ?RET:24
        CFI Resource ?BRET_EXT:8
        CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
        CFI ResourceParts PSP16 PSPH, PSPL
        CFI ResourceParts XSP16 XSPH, XSPL
        CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
        CFI EndNames cfiNames0
        
        CFI Common cfiCommon0 Using cfiNames0
        CFI CodeAlign 1
        CFI DataAlign -1
        CFI ReturnAddress ?RET CODE
        CFI CFA_DOVERLAY Used
        CFI CFA_IOVERLAY Used
        CFI CFA_SP SP+-3
        CFI CFA_PSP16 PSP16+0
        CFI CFA_XSP16 XSP16+0
        CFI `PSW.CY` SameValue
        CFI `B.BR0` SameValue
        CFI `B.BR1` SameValue
        CFI `B.BR2` SameValue
        CFI `B.BR3` SameValue
        CFI `B.BR4` SameValue
        CFI `B.BR5` SameValue
        CFI `B.BR6` SameValue
        CFI `B.BR7` SameValue
        CFI `VB.BR8` SameValue
        CFI `VB.BR9` SameValue
        CFI `VB.BR10` SameValue
        CFI `VB.BR11` SameValue
        CFI `VB.BR12` SameValue
        CFI `VB.BR13` SameValue
        CFI `VB.BR14` SameValue
        CFI `VB.BR15` SameValue
        CFI VB SameValue
        CFI B Undefined
        CFI A Undefined
        CFI PSW SameValue
        CFI DPL0 SameValue
        CFI DPH0 SameValue
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 Undefined
        CFI R5 Undefined
        CFI R6 SameValue
        CFI R7 SameValue
        CFI V0 SameValue
        CFI V1 SameValue
        CFI V2 SameValue
        CFI V3 SameValue
        CFI V4 SameValue
        CFI V5 SameValue
        CFI V6 SameValue
        CFI V7 SameValue
        CFI V8 SameValue
        CFI V9 SameValue
        CFI V10 SameValue
        CFI V11 SameValue
        CFI V12 SameValue
        CFI V13 SameValue
        CFI V14 SameValue
        CFI V15 SameValue
        CFI PSPH Undefined
        CFI PSPL Undefined
        CFI XSPH Undefined
        CFI XSPL Undefined
        CFI ?RET Concat
        CFI ?BRET_EXT Frame(CFA_SP, 3)
        CFI ?RET_HIGH Frame(CFA_SP, 2)
        CFI ?RET_LOW Frame(CFA_SP, 1)
        CFI EndCommon cfiCommon0
        
DHT11Check          SYMBOL "DHT11Check"
??DHT11Check?relay  SYMBOL "?relay", DHT11Check
DHT11IOInit         SYMBOL "DHT11IOInit"
??DHT11IOInit?relay SYMBOL "?relay", DHT11IOInit
DHT11ReadBit        SYMBOL "DHT11ReadBit"
??DHT11ReadBit?relay SYMBOL "?relay", DHT11ReadBit
DHT11ReadByte       SYMBOL "DHT11ReadByte"
??DHT11ReadByte?relay SYMBOL "?relay", DHT11ReadByte
DHT11ReadData       SYMBOL "DHT11ReadData"
??DHT11ReadData?relay SYMBOL "?relay", DHT11ReadData
DHT11Reset          SYMBOL "DHT11Reset"
??DHT11Reset?relay  SYMBOL "?relay", DHT11Reset
dht_delay_ms        SYMBOL "dht_delay_ms"
??dht_delay_ms?relay SYMBOL "?relay", dht_delay_ms
dht_delay_us        SYMBOL "dht_delay_us"
??dht_delay_us?relay SYMBOL "?relay", dht_delay_us

// E:\Work Codes\ZigBee\Network\Projects\zstack\Samples\TestApp\Source\ExtHAL\DHT11.c
//    1 #include "dht11.h"

        ASEGN SFR_AN:DATA:NOROOT,080H
// union <unnamed> volatile __sfr _A_P0
_A_P0:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,08fH
// unsigned char volatile __sfr P0INP
P0INP:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0f3H
// unsigned char volatile __sfr P0SEL
P0SEL:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0f7H
// unsigned char volatile __sfr P2INP
P2INP:
        DATA8
        DS 1

        ASEGN SFR_AN:DATA:NOROOT,0fdH
// unsigned char volatile __sfr P0DIR
P0DIR:
        DATA8
        DS 1
//    2 
//    3 /* 初始化DHT11的IO口 DQ 同时检测DHT11的存在 
//    4 ** 返回1:不存在 
//    5 ** 返回0:存在
//    6 */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//    7 unsigned char DHT11IOInit(void)
DHT11IOInit:
        CFI Block cfiBlock0 Using cfiCommon0
        CFI Function DHT11IOInit
        CODE
//    8 {	
        FUNCALL DHT11IOInit, DHT11Reset
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL DHT11IOInit, DHT11Check
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//    9 	P0SEL &= ~0x40;		// Px_y used as GPIO function
        ANL     0xf3,#0xbf
//   10 	DHT11_IO_IN;			// Px_y input mode
        ANL     0xfd,#0xbf
//   11 	P0INP &= ~0x40;		// pull up or pull down IO pin
        ANL     0x8f,#0xbf
//   12 	DHT11_IQ_PULL_UP;	// pull up
        ANL     0xf7,#0xdf
//   13 	
//   14 	DHT11Reset();
        ; Setup parameters for call to function DHT11Reset
        LCALL   ??DHT11Reset?relay
//   15 	return DHT11Check();
        ; Setup parameters for call to function DHT11Check
        LCALL   ??DHT11Check?relay
        CFI EndBlock cfiBlock0
        REQUIRE ?Subroutine0
        REQUIRE P0SEL
        REQUIRE P0DIR
        REQUIRE P0INP
        REQUIRE P2INP
        ; // Fall through to label ?Subroutine0
//   16 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine0:
        CFI Block cfiBlock1 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+-5
        CFI DPL0 Frame(CFA_SP, 4)
        CFI DPH0 Frame(CFA_SP, 5)
        POP     DPH
        CFI CFA_SP SP+-4
        CFI DPH0 SameValue
        POP     DPL
        CFI CFA_SP SP+-3
        CFI DPL0 SameValue
        LJMP    ?BRET
        CFI EndBlock cfiBlock1
//   17 

        RSEG BANKED_CODE:CODE:NOROOT(0)
//   18 void DHT11Reset(void)
DHT11Reset:
        CFI Block cfiBlock2 Using cfiCommon0
        CFI Function DHT11Reset
        CODE
//   19 {
        FUNCALL DHT11Reset, dht_delay_ms
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL DHT11Reset, dht_delay_us
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//   20 	DHT11_IO_OUT;					// ouptput mode
        ORL     0xfd,#0x40
//   21 	DHT11_IO = 0; 					// 拉低DQ
        CLR     0x80.6
//   22 	dht_delay_ms(30);    			// 拉低至少18ms 
        ; Setup parameters for call to function dht_delay_ms
        MOV     R2,#0x1e
        MOV     R3,#0x0
        LCALL   ??dht_delay_ms?relay
//   23 	DHT11_IO = 1; 				// 拉高DQ  
        SETB    0x80.6
//   24 	dht_delay_us(30);     		// 主机拉高20~40us 	
        ; Setup parameters for call to function dht_delay_us
        MOV     R2,#0x1e
        MOV     R3,#0x0
        LCALL   ??dht_delay_us?relay
//   25 }
        SJMP    ?Subroutine0
        CFI EndBlock cfiBlock2
        REQUIRE P0DIR
        REQUIRE _A_P0
//   26 
//   27 /* 等待DHT11的回应 
//   28 ** 返回1:未检测到DHT11的存在 
//   29 ** 返回0:存在
//   30 */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//   31 unsigned char DHT11Check(void)
DHT11Check:
        CFI Block cfiBlock3 Using cfiCommon0
        CFI Function DHT11Check
        CODE
//   32 {
        FUNCALL DHT11Check, dht_delay_us
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL DHT11Check, dht_delay_us
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
//   33 	unsigned char retry=0;
        MOV     R6,#0x0
//   34 	
//   35 	DHT11_IO_OUT;			// input mode
        ORL     0xfd,#0x40
        SJMP    ??DHT11Check_0
//   36 	
//   37 	while ( DHT11_IO && retry < 100 )		// DHT11会拉低40~80us 
//   38 	{ 
//   39 		retry++; 
??DHT11Check_1:
        INC     R6
//   40 		dht_delay_us(1); 
        ; Setup parameters for call to function dht_delay_us
        MOV     R2,#0x1
        MOV     R3,#0x0
        LCALL   ??dht_delay_us?relay
//   41 	};
??DHT11Check_0:
        MOV     C,0x80.6
        JNC     ??DHT11Check_2
        MOV     A,R6
        CLR     C
        SUBB    A,#0x64
        JC      ??DHT11Check_1
//   42 	
//   43 	if(retry >= 100)
??DHT11Check_2:
        MOV     A,R6
        CLR     C
        SUBB    A,#0x64
        JC      ??DHT11Check_3
//   44 		return 1; 
??DHT11Check_4:
        MOV     R1,#0x1
        SJMP    ??DHT11Check_5
//   45 	else
//   46 		retry=0; 
??DHT11Check_3:
        MOV     R6,#0x0
        SJMP    ??DHT11Check_6
//   47 	
//   48 	while ( !DHT11_IO && retry < 100 )		// DHT11拉低后会再次拉高40~80us 
//   49 	{ 
//   50 		retry++; 
??DHT11Check_7:
        INC     R6
//   51 		dht_delay_us(1); 
        ; Setup parameters for call to function dht_delay_us
        MOV     R2,#0x1
        MOV     R3,#0x0
        LCALL   ??dht_delay_us?relay
//   52 	};
??DHT11Check_6:
        MOV     C,0x80.6
        JC      ??DHT11Check_8
        MOV     A,R6
        CLR     C
        SUBB    A,#0x64
        JC      ??DHT11Check_7
//   53 	
//   54 	if(retry >= 100)
??DHT11Check_8:
        MOV     A,R6
        CLR     C
        SUBB    A,#0x64
        JNC     ??DHT11Check_4
//   55 		return 1;	     
//   56 	else
//   57 		return 0; 
        MOV     R1,#0x0
??DHT11Check_5:
        SJMP    ?Subroutine1
        CFI EndBlock cfiBlock3
        REQUIRE P0DIR
        REQUIRE _A_P0
//   58 }
//   59 
//   60 /* 从DHT11读取一个位 
//   61 ** 返回值：1/0
//   62 */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//   63 unsigned char DHT11ReadBit(void) 	  
DHT11ReadBit:
        CFI Block cfiBlock4 Using cfiCommon0
        CFI Function DHT11ReadBit
        CODE
//   64 { 
        FUNCALL DHT11ReadBit, dht_delay_us
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL DHT11ReadBit, dht_delay_us
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL DHT11ReadBit, dht_delay_us
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
//   65 	unsigned char retry = 0;
        MOV     R6,#0x64
        SJMP    ??DHT11ReadBit_0
//   66 	
//   67 	while( DHT11_IO && retry < 100 )	//等待变为低电平，每一bit数据以 50us 低电平开始 
//   68 	{ 
//   69 		retry++;
//   70 		dht_delay_us(2);
??DHT11ReadBit_1:
        ; Setup parameters for call to function dht_delay_us
        MOV     R2,#0x2
        MOV     R3,#0x0
        LCALL   ??dht_delay_us?relay
        DEC     R6
//   71 	}
??DHT11ReadBit_0:
        MOV     C,0x80.6
        JNC     ??DHT11ReadBit_2
        MOV     A,R6
        JNZ     ??DHT11ReadBit_1
//   72 	retry=0;
??DHT11ReadBit_2:
        MOV     R6,#0x64
        SJMP    ??DHT11ReadBit_3
//   73 	
//   74 	while( !DHT11_IO && retry < 100 )		//等待变高电平 
//   75 	{ 
//   76 		retry++;
//   77 		dht_delay_us(2);
??DHT11ReadBit_4:
        ; Setup parameters for call to function dht_delay_us
        MOV     R2,#0x2
        MOV     R3,#0x0
        LCALL   ??dht_delay_us?relay
        DEC     R6
//   78 	}
??DHT11ReadBit_3:
        MOV     C,0x80.6
        JC      ??DHT11ReadBit_5
        MOV     A,R6
        JNZ     ??DHT11ReadBit_4
//   79 	//while ( !DHT11_IO ); //等待变高电平
//   80 	dht_delay_us(30);	//等待30us，高电平持续 26~28us 时，数据为 0，持续 70us 为 1
??DHT11ReadBit_5:
        ; Setup parameters for call to function dht_delay_us
        MOV     R2,#0x1e
        MOV     R3,#0x0
        LCALL   ??dht_delay_us?relay
//   81 	
//   82 	if( DHT11_IO )
        MOV     C,0x80.6
        JNC     ??DHT11ReadBit_6
//   83 		return 1; 
        MOV     R1,#0x1
        SJMP    ??DHT11ReadBit_7
//   84 	else 
//   85 		return 0;
??DHT11ReadBit_6:
        MOV     R1,#0x0
??DHT11ReadBit_7:
        SJMP    ?Subroutine1
        CFI EndBlock cfiBlock4
        REQUIRE _A_P0
//   86 }
//   87 
//   88 
//   89 /* 从DHT11读取一个字节 
//   90 ** 返回值：读到的数据 
//   91 */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//   92 unsigned char DHT11ReadByte(void)     
DHT11ReadByte:
        CFI Block cfiBlock5 Using cfiCommon0
        CFI Function DHT11ReadByte
        CODE
//   93 {         
        FUNCALL DHT11ReadByte, DHT11ReadBit
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 1
        MOV     A,#-0x1
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
//   94   unsigned char i;
//   95 	volatile unsigned char dat = 0;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        CLR     A
        MOVX    @DPTR,A
//   96 	 
//   97 	for ( i = 0; i < 8; i++ )  
        MOV     R6,#0x8
//   98 	{ 
//   99    	dat <<= 1;
??DHT11ReadByte_0:
        MOVX    A,@DPTR
        CLR     C
        RLC     A
        MOVX    @DPTR,A
//  100     dat |= DHT11ReadBit(); 
        ; Setup parameters for call to function DHT11ReadBit
        LCALL   ??DHT11ReadBit?relay
        MOV     A,R1
        MOV     R0,A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ORL     A,R0
        MOVX    @DPTR,A
//  101   }
        DEC     R6
        MOV     A,R6
        JNZ     ??DHT11ReadByte_0
//  102 	
//  103   return dat; 
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI EndBlock cfiBlock5
        REQUIRE ?Subroutine1
        ; // Fall through to label ?Subroutine1
//  104 } 

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine1:
        CFI Block cfiBlock6 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock6
//  105 
//  106 
//  107 /* 从DHT11读取一次数据 
//  108 ** temp:温度值(范围:0~50°) 
//  109 ** humi:湿度值(范围:20%~90%) 
//  110 ** 返回值：0,正常; 1,读取失败
//  111 */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  112 unsigned char DHT11ReadData(unsigned char* temp, unsigned char* humi)     
DHT11ReadData:
        CFI Block cfiBlock7 Using cfiCommon0
        CFI Function DHT11ReadData
        CODE
//  113 {         
        FUNCALL DHT11ReadData, DHT11Reset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL DHT11ReadData, DHT11Check
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL DHT11ReadData, DHT11ReadByte
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xd
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 13)
        ; Saved register size: 13
        ; Auto size: 5
        MOV     A,#-0x5
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 18)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     ?V0 + 0,R4
        MOV     ?V0 + 1,R5
//  114  	unsigned char buf[5]; 
//  115 	unsigned char i;
//  116 	buf[0] = buf[1] = buf[2] = buf[3] =buf[4] = 0;
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        CLR     A
        MOVX    @DPTR,A
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        CLR     A
        MOVX    @DPTR,A
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        CLR     A
        MOVX    @DPTR,A
        INC     A
        LCALL   ?XSTACK_DISP0_8
        CLR     A
        MOVX    @DPTR,A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  117 	
//  118 	DHT11Reset();
        ; Setup parameters for call to function DHT11Reset
        LCALL   ??DHT11Reset?relay
//  119 	
//  120 	if ( !DHT11Check() ) 
        ; Setup parameters for call to function DHT11Check
        LCALL   ??DHT11Check?relay
        MOV     A,R1
        JNZ     ??DHT11ReadData_0
//  121 	{ 
//  122 		for ( i = 0; i < 5; i++ )		//读取40位数据 
        MOV     ?V0 + 4,#0x0
//  123 		{ 
//  124 			buf[i] = DHT11ReadByte(); 
??DHT11ReadData_1:
        ; Setup parameters for call to function DHT11ReadByte
        LCALL   ??DHT11ReadByte?relay
        MOV     ?V0 + 2,?V0 + 4
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,DPL
        ADD     A,?V0 + 2
        MOV     DPL,A
        MOV     A,DPH
        ADDC    A,#0x0
        MOV     DPH,A
        MOV     A,R1
        MOVX    @DPTR,A
//  125 		}
        INC     ?V0 + 4
        MOV     A,?V0 + 4
        CLR     C
        SUBB    A,#0x5
        JC      ??DHT11ReadData_1
//  126 		
//  127 		if (( buf[0] + buf[1] + buf[2] + buf[3] ) == buf[4]) 
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        CLR     A
        ADDC    A,#0x0
        MOV     R1,A
        MOV     ?V0 + 2,R4
        MOV     A,R0
        ADD     A,?V0 + 2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,#0x0
        MOV     R1,A
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,#0x0
        MOV     R1,A
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,R0
        JNZ     ??DHT11ReadData_2
        MOV     A,R1
??DHT11ReadData_2:
        JNZ     ??DHT11ReadData_0
//  128 		{ 
//  129 			*humi = buf[0]; 
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOVX    @DPTR,A
//  130 			*temp = buf[2];
        MOV     A,R4
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    @DPTR,A
//  131 			
//  132 			return 0;
        MOV     R1,#0x0
        SJMP    ??DHT11ReadData_3
//  133 		} 
//  134 	}
//  135 	
//  136 	return 1;	     
??DHT11ReadData_0:
        MOV     R1,#0x1
??DHT11ReadData_3:
        MOV     A,#0x5
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 13)
        MOV     R7,#0x5
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock7
//  137 }
//  138 
//  139 // 微妙延时

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  140 void dht_delay_us(unsigned int us)
dht_delay_us:
        CFI Block cfiBlock8 Using cfiCommon0
        CFI Function dht_delay_us
        CODE
//  141 {
        ; Saved register size: 0
        ; Auto size: 0
        SJMP    ??dht_delay_us_0
//  142 	while ( us-- )
//  143 	{
//  144 		asm("NOP");
??dht_delay_us_1:
        NOP
//  145 		asm("NOP");
        NOP
//  146 		asm("NOP");
        NOP
//  147 	}
??dht_delay_us_0:
        MOV     A,R2
        MOV     R0,A
        MOV     A,R3
        MOV     R1,A
        MOV     A,R0
        ADD     A,#-0x1
        DEC     R2
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     R3,A
        MOV     A,R0
        ORL     A,R1
        JNZ     ??dht_delay_us_1
//  148 }
        LJMP    ?BRET
        CFI EndBlock cfiBlock8
//  149 
//  150 // 毫秒延时

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  151 void dht_delay_ms(unsigned int ms)
dht_delay_ms:
        CFI Block cfiBlock9 Using cfiCommon0
        CFI Function dht_delay_ms
        CODE
//  152 {
        FUNCALL dht_delay_ms, dht_delay_us
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        SJMP    ??dht_delay_ms_0
//  153 	while ( ms-- )
//  154 	{
//  155 		dht_delay_us(1000);
??dht_delay_ms_1:
        ; Setup parameters for call to function dht_delay_us
        MOV     R2,#-0x18
        MOV     R3,#0x3
        LCALL   ??dht_delay_us?relay
//  156 	}
??dht_delay_ms_0:
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
        MOV     A,R0
        ADD     A,#-0x1
        DEC     R6
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     R7,A
        MOV     A,R0
        ORL     A,R1
        JNZ     ??dht_delay_ms_1
//  157 }
        LJMP    ?Subroutine1 & 0xFFFF
        CFI EndBlock cfiBlock9

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??DHT11IOInit?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    DHT11IOInit

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??DHT11Reset?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    DHT11Reset

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??DHT11Check?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    DHT11Check

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??DHT11ReadBit?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    DHT11ReadBit

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??DHT11ReadByte?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    DHT11ReadByte

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??DHT11ReadData?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    DHT11ReadData

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??dht_delay_us?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    dht_delay_us

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??dht_delay_ms?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    dht_delay_ms

        END
//  158 
// 
// 505 bytes in segment BANKED_CODE
//  48 bytes in segment BANK_RELAYS
//   5 bytes in segment SFR_AN
// 
// 553 bytes of CODE memory
//   0 bytes of DATA memory (+ 5 bytes shared)
//
//Errors: none
//Warnings: none
